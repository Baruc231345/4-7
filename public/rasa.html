<!DOCTYPE html>
<!--=== Coding by CodingLab | www.codinglabweb.com === -->
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/rasa.css">
  <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
</head>

<body>
  <div class="container">
    <header>Rasa Form</header>
      <form name="myForm" onsubmit="return false;" id="form">
      <div class="form first">
        <div class="details personal">
          <span class="title">Personal Details</span>

          <div class="fields1">
            <div class="input-field">
              <label>Full Name</label>
              <input type="text" id="full_name" placeholder="Enter your name" >
            </div>

            <div class="input-field">
              <label>Contact Number </label>
              <input type="text" id="contact_number" placeholder="Enter your mobile number" >
            </div>

            <div class="input-field">
              <label for="requestor_information">Requestor Information</label>
              <div class="select-wrapper">
                <select id="requestor_information" onchange="updateContactLabel()">
                  <option value="" disabled selected>Select Description</option>
                  <option value="Student_Leader">Student Leader</option>
                  <option value="Student">Student</option>
                  <option value="Teacher">Teacher</option>
                  <option value="Admin">Staff</option>
                </select>
              </div>
            </div>

            <div class="input-field">
              <label id ="requestor">Here! </label>
              <input type="text" id="requestor_type" placeholder="Enter your Requestor Type" >
            </div>

          </div>
          </div>
        </div>
      <div class="form second">
        <div class="details personal">
          <span class="title">Event Information</span>

          <div class="fields2">
            <div class="input-field">
              <label>Event Name</label>
              <input type="text" id="event_name" placeholder="Enter Event Name" >
            </div>

            <div class="input-field">
              <label>Event Date/Day</label>
              <input type="date" id="event_day" placeholder="Date" onchange="formatDate()" >
            </div>

            <div class="input-field">
              <label for="event_description">Event Description</label>
              <div class="select-wrapper">
                <select id="event_description">
                  <option value="" disabled selected>Select Description</option>
                  <option value="Seminar">Seminar</option>
                  <option value="Show">Show</option>
                  <option value="Meeting">Meeting</option>
                  <option value="Etc">Etc</option>
                </select>
              </div>
            </div>

            <div class="input-field">
              <label>Expected Participants</label>
              <input type="number" id="participants" placeholder="# of Participants" >
            </div>

            <div class="input-field">
              <label>Purpose/Objective</label>
              <input type="text" id="purpose_objectives" placeholder="Specify the purpose" >
            </div>

            <div class="input-field">
              <label>How many days do you require use of the facility?</label>
              <input type="text" id="required_day" placeholder="Specify the days" >
            </div>

            <div class="input-field">
              <label>Start Time</label>
              <input type="time" id = "start_time" placeholder="include set-up time or ingress">
            </div>

            <div class="input-field">
              <label>End Time</label>
              <input type="time" id = "end_time" placeholder="include break-down time or egress">
            </div>
            </div>  

        <div class="mid">
          <div class="top">
          <span class="title">Facilities Needed</span>
          <p class="text">*please check all rooms/facilities you plan to use</p>
          <div class="fields3">
            <div class="row1">
            <label for="myRadioId" class="radio">
              <input type="checkbox" name="myRadioField" id="myRadioId" class="radio_input">
              <div class="radio_radio"></div>
              Auditorium 
            </label>
 
          </div>
          <div class="row2">
            <label for="myRadioId4" class="radio">
              <input type="checkbox" name="myRadioField" id="myRadioId4" class="radio_input">
              <div class="radio_radio"></div>
              Food and Beverage Room
            </label>
            
          </div>

          <div class="row3">
           
            <label for="myRadioId7" class="radio">
              <input type="checkbox" name="myRadioField" id="myRadioId7" class="radio_input">
              <div class="radio_radio"></div>
              Main Lobby
            </label>

            <div class="row7">
            <label for="myRadioId5" class="radio">
              <input type="checkbox" name="myRadioField" id="myRadioId5" class="radio_input">
              <div class="radio_radio"></div>
              Dance Studio 
            </label>
          </div>

            </div>

              <div class="row4">

                <label for="myRadioId1" class="radio">
                  <input type="checkbox" name="myRadioField" id="myRadioId1" class="radio_input">
                  <div class="radio_radio"></div>
                  Multi Purpose Hall
                </label>

              </div>

              <div class="row5">

                <label for="myRadioId2" class="radio">
                  <input type="checkbox" name="myRadioField" id="myRadioId2" class="radio_input">
                  <div class="radio_radio"></div>
                  Gymnasium
                </label>

              </div>

              <div class="row6">

                <label for="myRadioId3" class="radio">
                  <input type="checkbox" name="myRadioField" id="myRadioId3" class="radio_input">
                  <div class="radio_radio"></div>
                  Classrooms
                </label>

              </div>

        <div class="row7">

        <label for="myRadioId6" class="radio">
        <input type="checkbox" name="myRadioField" id="myRadioId6" class="radio_input">
        <div class="radio_radio"></div>
        Kitchen Area
            </label>

        </div>


        </div>
          </div>

          <div class="details personal">
            <span class="title">Equipment Needed</span>
            <p class="text">*please check all equipment you plan to use</p>
            <div class="fields4">
              
              <p class="text1">MIS/IT</p>
              <label for="myRadioId_1" class="radio2">
                <input type="checkbox" name="myRadioField" id="myRadioId_1" class="radio_input1">
                <div class="radio_radio1"></div>
                Sound System

                <div class="input-wide">
                  <input type="text" placeholder="Number of Sound System" id="sound-system_input" disabled>
                </div>         
              </label>
  
              <label for="myRadioId_2" class="radio2">
                <input type="checkbox" name="myRadioField" id="myRadioId_2" class="radio_input1">
                <div class="radio_radio1"></div>
                Microphone
                <div class="input-wide">
                  <input type="text" placeholder="Number of Microphone" id="microphone_input" disabled>
                </div>   
              </label>
  
              <label for="myRadioId_3" class="radio2">
                <input type="checkbox" name="myRadioField" id="myRadioId_3" class="radio_input1">
                <div class="radio_radio1"></div>
                LCD Projector
                <div class="input-wide">
                  <input type="text" placeholder="Number of Lcd Projector" id="lcd-projector_input" disabled>
                </div>    

              </label>
  
              <label for="myRadioId_4" class="radio2">
                <input type="checkbox" name="myRadioField" id="myRadioId_4" class="radio_input1">
                <div class="radio_radio1"></div>
                Widescreen
                <div class="input-wide">
                  <input type="text" placeholder="Number of Sound System" id="wide-screen_input" disabled>
                </div> 
              </label>
            </div>

            <div class="fields5">
              <p class="text1">Bag</p>
              
              <label for="myRadioId-1" class="radio3">
                <input type="checkbox" name="myRadioField" id="myRadioId-1" class="radio_input2">
                <div class="radio_radio2"></div>
                Chair/s &nbsp &nbsp &nbsp 

                <div class="input-wide">
                  <input type="text" placeholder="Number of Chair/s" id="chair_input" disabled>
                </div>    
          
              </label>
  
              <label for="myRadioId-2" class="radio3">
                <input type="checkbox" name="myRadioField" id="myRadioId-2" class="radio_input2">
                <div class="radio_radio2"></div>
                Table/s

                <div class="input-wide">
                  <input type="text" placeholder="Number of Table/s" id="table_input" disabled>
                </div>    
              </label>
              <div class="row3">
              <label for="myRadioId-3" class="radio3">
                <input type="checkbox" name="myRadioField" id="myRadioId-3" class="radio_input2">
                <div class="radio_radio2"></div>
                Black Panel

                <div class="input-wide">
                  <input type="text" placeholder="Number of Black Panel" id="black-panel_input" disabled>
                </div>  
              </label>
  
              <label for="myRadioId-4" class="radio3">
                <input type="checkbox" name="myRadioField" id="myRadioId-4" class="radio_input2">
                <div class="radio_radio2"></div>
                Whiteboard
             
                <div class="input-wide">
                  <input type="text" placeholder="Number of Whiteboard" id="whiteboard_input" disabled>
                </div>  
              </label>
            </div>
              <div class="aircon">
                <label for="myRadioId-6" class="radio3">
                  <input type="checkbox" name="myRadioField" id="myRadioId-6" class="radio_input2">
                  <div class="radio_radio2"></div>
                  Aircon Time
                </label>
              
                <div class="input-aircon">
                  <input type="time" placeholder="Start of Aircon Time" id="start-time" disabled>
                </div>
              
                <p class="text1">to</p>
              
                <div class="input-aircon">
                  <input type="time" placeholder="End of Aircon Time" id="end-time" disabled>
                </div>

  
                </div>

                <div class="input-other">
                  <label for="myRadioId-7" class="radio3">
                    <input type="checkbox" name="myRadioField" id="myRadioId-7" class="radio_input2" onclick="toggleOtherInput(this)">
                    <div class="radio_radio2"></div>
                    Other: 
                  </label>
                
                  <input type="text" placeholder="Other/s" id="otherInput" disabled>
              </div>

              
        </div>
        </div>
        </div>

        <div class="form third">
      <a href="https://signaturely.com/signature-downloaded">Create your own signature</a>
              <button onclick="displayNotice()">Testing Button</button>
            </div>
            </div>
          </div>

          <div class="form fourth" style="height: 500px;">
            <div id ="form_sign"></div>
            <div id = "text_signature">Venue Approval</div>
            <div id ="form_sign2">
              <div id ="form_sign2"></div>
              <div id = "text_signature2">OSA Approval</div>
            </div>
          </div>
  
      </form>
</body>
<script>

const image_input = document.querySelector("#image_input");
const image_input2 = document.querySelector("#image_input2");
var upload_image = "";
var upload_image2 = "";

image_input.addEventListener("change", function(){
  const reader = new FileReader();
  reader.addEventListener("load",() =>{
    upload_image = reader.result
    document.querySelector("#form_sign").style.backgroundImage = `url(${upload_image})`;
  });
  reader.readAsDataURL(this.files[0]);
})

image_input2.addEventListener("change", function(){
  const reader = new FileReader();
  reader.addEventListener("load",() =>{
    upload_image = reader.result
    document.querySelector("#form_sign2").style.backgroundImage = `url(${upload_image})`;
  });
  reader.readAsDataURL(this.files[0]);
})

/*
function validateForm() {
  var a = document.forms["myForm"]["event_name"].value;
  var b = document.forms["myForm"]["event_day"].value;
  var c = document.forms["myForm"]["event_description"].value;
  var d = document.forms["myForm"]["full_name"].value;
  var e = document.forms["myForm"]["contact_number"].value;
  var f = document.forms["myForm"]["participants"].value;
  var g = document.forms["myForm"]["purpose_objectives"].value;
  var h = document.forms["myForm"]["required_day"].value;
  var i = document.forms["myForm"]["start_time"].value;
  var j = document.forms["myForm"]["end_time"].value;

  if ((a == null || a == "" ) || (b == null || b == "") || (c == null || c == "")  || 
  (d == null || d == "") || (e == null || e == "") || (f == null || f == "") ||
  (g == null || g == "" ) || (h == null || h == "") || (i == null || i == "") ||
  (j == null || j == "")){
    alert("Form must be filled out");
    return false;
  }
  else displayNotice();
}
*/



function displayNotice() {
  var notice = "Important Notice:\n\n" +
    "- No facility is reserved without a proper request form being submitted. Facilities and other resources shall be used for school related activities only.\n\n" +
    "- The requestor secures a Form from the OSA office at the ground floor. Form must be approved and submitted two (2) weeks before the intended use.\n\n" +
    "- The Requestor submits filled-out form to the adviser or person-in charge for endorsement approval. All activities must have a clear objective/s that aligns with the school's policy.\n\n" +
    "- You can check the availability and seek approval to the following department (Rooms - Academic Secretary at the 6th Floor Faculty room, Venus and other resources - Building Admin at the 4th floor and for Technical support - MIS & IT department at the 3rd floor). The final approval will be the academic head and school administrator.\n\n" +
    "- Facility/Equipment's must return clean and damage-free after the activity. The Requestor and Adviser/Heads shall be accountable for any loss/damage to the facilities and borrowed resources.\n\n" +
    "- All production materials used for the activity shall be removed and disposed properly.\n\n" +
    "- Once approved, the requestor must submit (------) of Request Form to the following offices: OSA, Building Admin, MIS & IT, and Security Officer (Lobby or Basement).";

    var agree = confirm(notice + "\n\nDo you agree to the notice?");

if (agree) {
  alert("You agreed to the notice.");
  const form = document.querySelector("form"),
        nextBtn = form.querySelector(".nextBtn"),
        nextBtn2 = form.querySelector(".nextBtn2"),
        backBtn = form.querySelector(".backBtn"),
        nextBtn3 = form.querySelector(".nextBtn3"),
        backBtn2 = form.querySelector(".backBtn2"),
        allInput = form.querySelectorAll(".first input");


document.addEventListener('DOMContentLoaded', () => {
  const positionLabel = document.querySelector('#position label').textContent;
  const inputFieldValues = Array.from(document.querySelectorAll('.input-field2 input')).map(input => input.value);
  const myButton = document.querySelector('#noneBtn');

  myButton.addEventListener('click', myFunction);

  function myFunction() {
    console.log(`Position Label: ${positionLabel}`);
    console.log(`Input Field Values: ${inputFieldValues}`);
  }
});
  

//////////////////-------------------------------------
const start_date1 = document.getElementById("start_date");
const end_date1 = document.getElementById("end_date");

const full_name1 = document.getElementById("full_name");
const event_name1 = document.getElementById("event_name");
const event_day1 = document.getElementById("event_day");
const start_time1 = document.getElementById("start_time");
const end_time1 = document.getElementById("end_time");
const event_description1 = document.getElementById("event_description");
const requestor_information = document.getElementById("requestor_information");
const requestor_type = document.getElementById("requestor_type");
const required_day = document.getElementById("required_day");
const contact_number = document.getElementById("contact_number");
const participants = document.getElementById("participants");
const purpose_objectives = document.getElementById("purpose_objectives");

form.addEventListener("submit", () => {
  var startTime = document.getElementById("start_time").value;
  var endTime = document.getElementById("end_time").value;
  if (endTime < startTime) {
    alert("End time cannot be earlier than start time");
  } else {    
    const rasatesting = {
      full_name: full_name1.value,
      event_name: event_name1.value,
      event_description: event_description1.value,
      event_day: event_day1.value,
      start_time: startTime,
      end_time: endTime,
      requestor_information: requestor_information.value,
      requestor_type: requestor_type.value,
      required_day: required_day.value,
      contact_number: contact_number.value,
      participants: participants.value,
      purpose_objectives: purpose_objectives.value,
    };  
    fetch("/api/rasatesting", {
      method: "POST",
      body: JSON.stringify(rasatesting),
      headers: {
        "Content-type": "application/json"
      }   
    })
    .then(response => response.json())
    .then(data => {
      const id = data.id;
      window.location.href = `/ejsrasa/${data.id}`;
    })
    .catch(error => {
      console.error(error);
    });
  }
});

const checkbox = document.getElementById('myRadioId-6');
const startTimeInput = document.getElementById('start-time');
const endTimeInput = document.getElementById('end-time');

checkbox.addEventListener('change', function() {  
  if (this.checked) {
    startTimeInput.disabled = false;
    endTimeInput.disabled = false;
  } else {
    startTimeInput.disabled = true;
    endTimeInput.disabled = true;
  }
});

checkbox.addEventListener('change', function() {
  if (!this.checked) {
    startTimeInput.value = '';
    endTimeInput.value = '';
  }
});

function toggleOtherInput(checkbox) {
  var otherInput = document.getElementById("otherInput");
  otherInput.disabled = !checkbox.checked;
}

} else {
  alert("You disagreed to the notice.");
}
}

function updateContactLabel() {
    const requestorInformation = document.getElementById("requestor_information");
    const requestor_type = document.getElementById("requestor");
    const requestor= document.getElementById("requestor_type");

    if (requestorInformation.value === "Student_Leader") {
      requestor_type.textContent = "Organization Name";
      requestor.classList.add("long-input");
    } else if (requestorInformation.value === "Student") {
      requestor_type.textContent = "Course and Section";
      requestor.classList.add("long-input");
    } else if (requestorInformation.value === "Teacher") {
      requestor_type.textContent = "Department";
      requestor.classList.add("long-input");
    } else if (requestorInformation.value === "Admin") {
      requestor_type.textContent = "Department";
      requestor.classList.add("long-input");
    } else {
      requestor_type.textContent = "Department";
    }
    
    // Clear the input value
    requestor.value = "";
  }

  function formatDate() {
    const eventDayInput = document.getElementById("event_day");
    const selectedDate = eventDayInput.value;
    const dateObject = new Date(selectedDate);
    const year = dateObject.getFullYear();
    const month = String(dateObject.getMonth() + 1).padStart(2, "0");
    const day = String(dateObject.getDate()).padStart(2, "0");
    const formattedDate = `${year}-${month}-${day}`;
    eventDayInput.value = formattedDate;
  }
  </script>  
</html>