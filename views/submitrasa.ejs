<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/rasa.css">
  <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
</head>

<body>
  <div class="container">
    <header>Summary Rasa Form</header>
    <form onsubmit="return false;" id="form">
      <div class="form first">
        <div class="details personal">
          <span class="title">Personal Details</span>
          <div class="fields1">
            <div class="input-field">
              <label>Full Name</label>
              <input type="text" id="full_name" value="<%= inputted_table.full_name %>">
            </div>
            <div class="input-field">
              <label>Contact Number</label>
              <input type="text" placeholder="Enter your mobile number">
            </div>
          </div>
        </div>
        <div class="form second">
          <div class="details personal">
            <span class="title">Event Information</span>
            <div class="fields2">
              <div class="input-field">
                <label>Event Name</label>
                <input type="text" id="event_name" value="<%= inputted_table.event_name %>">
              </div>
              <div class="input-field">
                <label>Event Date/Day</label>
                <input type="date" id="event_day" value="<%= inputted_table.event_day %>">
              </div>
              <div class="input-field">
                <label>Event Description</label>
                <input type="text" id="event_description" value="<%= inputted_table.event_description %>">
              </div>
              <div class="input-field">
                <label>Expected Participants</label>
                <input type="number" placeholder="# of Participants">
              </div>
              <div class="input-field">
                <label>Purpose/Objective</label>
                <input type="text" value="<%= rasaID %>">
              </div>
              <div class="input-field">
                <label>How many days do you require use of the facility?</label>
                <input type="text" placeholder="Specify the days">
              </div>
              <div class="input-field">
                <label>Start Time</label>
                <input type="time" id="start_time" value="<%= inputted_table.start_time %>">
              </div>
              <div class="input-field">
                <label>End Time</label>
                <input type="time" id="end_time" value="<%= inputted_table.end_time %>">
              </div>
            </div>
            <div class="aircon">
              <label for="myRadioId-6" class="radio3">
                <input type="checkbox" name="myRadioField" id="myRadioId-6" class="radio_input2">
                <div class="radio_radio2"></div>
                Aircon Time
              </label>
              <div class="input-aircon">
                <input type="time" placeholder="Start of Aircon Time" id="start-time" disabled>
              </div>
              <p class="text1">to</p>
              <div class="input-aircon">
                <input type="time" placeholder="End of Aircon Time" id="end-time" disabled>
              </div>
              <div class="input-other">
                <label for="myRadioId-7" class="radio3">
                  <input type="checkbox" name="myRadioField" id="myRadioId-7" class="radio_input2" onclick="toggleOtherInput(this)">
                  <div class="radio_radio2"></div>
                  Other:
                </label>
                <input type="text" placeholder="Other/s" id="otherInput" disabled>
              </div>
            </div>
          </div>
          <div class="buttons">
            <button type="submit" id="btnSubmit">Submit</button>
            <button type="button" id="btnBack" onclick="handleClick()">Back</button>
          </div>
        </div>
      </div>
    </form>
  </div>
  <script>


document.getElementById('btnSubmit').addEventListener('click', function () {
  const rasatesting2 = {
    full_name: document.getElementById('full_name').value,
    event_name: document.getElementById('event_name').value,
    event_description: document.getElementById('event_description').value,
    event_day: document.getElementById('event_day').value,
    start_time: document.getElementById('start_time').value,
    end_time: document.getElementById('end_time').value,
  };
  console.log(rasatesting2);
  
  fetch("/api/rasatesting2", {
    method: "POST",
    body: JSON.stringify(rasatesting2),
    headers: {
      "Content-type": "application/json"
    }
  })
    .then(response => response.json())
    .then(data => {
      //const id = req.params.id;
      alert("Success!"); 
      setTimeout(function() {
        window.location.href = "/rasaview";
      }, 3000);
      
    })
    .catch(error => {
      console.error(error);
    });
});
  </script>
</body>
</html>